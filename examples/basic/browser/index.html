<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Data True Basic Browser Example</title>
<script src='../../../DataTrue.js'></script>
<script>
	var DataTrue = window['DataTrue'].default;
	var schema = new DataTrue();
	var MyClass = schema.createClass({
		'myValue': {
			validate: function() {
				if (typeof this.myValue === 'undefined') return;
				var num = parseInt(this.myValue);
				if (isNaN(num)) throw new Error("'"+this.myValue+"' is not a number");
				if (num < 1 || num > 10) throw new Error("'"+this.myValue+"' is not between 1 and 10");
			}
		}
	});
	var myObject = new MyClass();
	document.addEventListener('DOMContentLoaded',function() {
		var errors = document.getElementById('errors');
		var input = document.getElementById('in');
		input.addEventListener('keyup',function() {
			try {
				myObject.myValue = input.value;
				errors.innerHTML = 'Your input is OK!';
				errors.style.color = 'green';
			} catch(e) {
				errors.innerHTML = e.message;
				errors.style.color = 'red';
			}
		});
	});
</script>
</head>
<body>
	Please enter a value between 1 an 10: <input id='in'/>
	<div id='errors'></div>
</body>
</html>
